<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  	<meta charset="UTF-8">
  	<title>学生情報統計</title>
</head>
<body>
	
        <thead style="background:yellow">
            <form name="form1" onsubmit="return getStudent()">
		<p th:each="student:${student_list}">
			学生1氏名：
			<input type="text"  th:name="student_name+${studentStat.index + 1}" th:value="${student.name}">
		　　学生1クラス：
		　　<input type="text" th:name="student_stuClass+${studentStat.index + 1}" th:value="${student.stuClass}">
		　　学生1年齢：
			<input type="text" name="student_age+${studentStat.index + 1}" th:value="${student.age}">
		</p>
		
		<input type="submit" name="送信">

	</form>
		<p>学生年齢合計は：<span name="ageSum"></span></p>
		<p>学生年齢合の最大値：：<span name="ageMax"></span></p>

        </thead>
    </body>
    <script type="text/javascript">
		class Student {
			constructor(name,stu_class,age){
				this.name=name;
				this.stu_class=stu_class;
				this.age=age;
			}
		}
		function getStudent(){
			var ageSum=0;
			var ageMax=0;

		student1=new Student(document.form1.student_name1.value, document.form1.student_class1.value, parseInt(document.form1.student_age1.value));
		student2=new Student(document.form1.student_name2.value, document.form1.student_class2.value, parseInt(document.form1.student_age2.value));
		student3=new Student(document.form1.student_name3.value, document.form1.student_class3.value, parseInt(document.form1.student_age3.value));
		student4=new Student(document.form1.student_name4.value, document.form1.student_class4.value, parseInt(document.form1.student_age4.value));
		student5=new Student(document.form1.student_name5.value, document.form1.student_class5.value, parseInt(document.form1.student_age5.value));

		var stuList =[student1, student2, student3, student4, student5];
		console.log(stuList);
		ageMax=stuList[0].age;
		for (var i=0; i<stuList.length; i++){
			ageSum += stuList[i].age;
			if(stuList[i].age>ageMax){
				ageMax=stuList[i].age;
			}
		}
		console.log(ageSum,ageMax);
		document.getElementsByName("ageSum")[0].innerText=ageSum;
		document.getElementsByName("ageMax")[0].innerText=ageMax;
		return false;
		}
    
        
		</script>
    </html>
    